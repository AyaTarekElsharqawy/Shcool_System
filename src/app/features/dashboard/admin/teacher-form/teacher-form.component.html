<!-- <div class="custom-modal">
  <div class="custom-modal-content">
    <div class="custom-modal-header">
      <h5>إضافة معلم جديد</h5>
      <button class="btn-close" (click)="closeModal()">×</button>
    </div>
    
    <div class="custom-modal-body">
      <form [formGroup]="teacherForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
          <label class="form-label">الاسم</label>
          <input type="text" class="form-control" formControlName="name">
          @if (f['name'].errors && (f['name'].touched || formSubmitted)) {
            <div class="text-danger">
              @if (f['name'].errors['required']) {
                <small>هذا الحقل مطلوب</small>
              }
            </div>
          }
        </div>
      
        <div class="mb-3">
          <label class="form-label">العمر</label>
          <input type="number" class="form-control" formControlName="age">
          @if (f['age'].errors && (f['age'].touched || formSubmitted)) {
            <div class="text-danger">
              @if (f['age'].errors['required']) {
                <small>هذا الحقل مطلوب</small>
              }
              @if (f['age'].errors['min']) {
                <small>العمر يجب أن يكون 18 سنة أو أكثر</small>
              }
            </div>
          }
        </div>
      
        <div class="mb-3">
          <label class="form-label">الهاتف</label>
          <input type="text" class="form-control" formControlName="phone">
          @if (f['phone'].errors && (f['phone'].touched || formSubmitted)) {
            <div class="text-danger">
              @if (f['phone'].errors['required']) {
                <small>هذا الحقل مطلوب</small>
              }
              @if (f['phone'].errors['pattern']) {
                <small>يجب إدخال 11 رقماً</small>
              }
            </div>
          }
        </div>
      
        <div class="mb-3">
          <label class="form-label">البريد الإلكتروني</label>
          <input type="email" class="form-control" formControlName="email">
          @if (f['email'].errors && (f['email'].touched || formSubmitted)) {
            <div class="text-danger">
              @if (f['email'].errors['required']) {
                <small>هذا الحقل مطلوب</small>
              }
              @if (f['email'].errors['email']) {
                <small>بريد إلكتروني غير صالح</small>
              }
            </div>
          }
        </div>
      
        <div class="mb-3">
          <label class="form-label">المؤهل</label>
          <input type="text" class="form-control" formControlName="degree">
          @if (f['degree'].errors && (f['degree'].touched || formSubmitted)) {
            <div class="text-danger">
              @if (f['degree'].errors['required']) {
                <small>هذا الحقل مطلوب</small>
              }
            </div>
          }
        </div>
      
        <div class="mb-3">
          <label class="form-label">المادة</label>
          <input type="text" class="form-control" formControlName="subject">
          @if (f['subject'].errors && (f['subject'].touched || formSubmitted)) {
            <div class="text-danger">
              @if (f['subject'].errors['required']) {
                <small>هذا الحقل مطلوب</small>
              }
            </div>
          }
        </div>
      
        <div class="mb-3">
          <label class="form-label">صورة المعلم</label>
          <input type="file" class="form-control" (change)="onFileSelected($event)" accept="image/*">
        </div>
      
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" (click)="closeModal()">إلغاء</button>
          <button type="submit" class="btn btn-primary">حفظ</button>
        </div>
      </form>
    </div>
  </div>
</div> -->
<form [formGroup]="teacherForm" (ngSubmit)="onSubmit()" class="p-4">
  <div class="form-group">
    <label for="name">الاسم</label>
    <input type="text" id="name" formControlName="name" class="form-control" [class.is-invalid]="f['name'].invalid && (f['name'].dirty || f['name'].touched || formSubmitted)">
    @if (f['name'].invalid && (f['name'].dirty || f['name'].touched || formSubmitted)) {
      <div class="invalid-feedback">
        @if (f['name'].errors?.['required']) {
          <div>هذا الحقل مطلوب</div>
        }
        @if (f['name'].errors?.['minlength']) {
          <div>يجب أن يكون الاسم 3 أحرف على الأقل</div>
        }
      </div>
    }
  </div>

  <div class="form-group">
    <label for="age">العمر</label>
    <input type="number" id="age" formControlName="age" class="form-control" [class.is-invalid]="f['age'].invalid && (f['age'].dirty || f['age'].touched || formSubmitted)">
    @if (f['age'].invalid && (f['age'].dirty || f['age'].touched || formSubmitted)) {
      <div class="invalid-feedback">
        @if (f['age'].errors?.['required']) {
          <div>هذا الحقل مطلوب</div>
        }
        @if (f['age'].errors?.['min']) {
          <div>يجب أن يكون العمر 18 سنة على الأقل</div>
        }
        @if (f['age'].errors?.['max']) {
          <div>يجب أن يكون العمر أقل من 70 سنة</div>
        }
      </div>
    }
  </div>

  <div class="form-group">
    <label for="phone">رقم التليفون</label>
    <input type="tel" id="phone" formControlName="phone" class="form-control" [class.is-invalid]="f['phone'].invalid && (f['phone'].dirty || f['phone'].touched || formSubmitted)">
    @if (f['phone'].invalid && (f['phone'].dirty || f['phone'].touched || formSubmitted)) {
      <div class="invalid-feedback">
        @if (f['phone'].errors?.['required']) {
          <div>هذا الحقل مطلوب</div>
        }
        @if (f['phone'].errors?.['pattern']) {
          <div>يجب إدخال رقم هاتف مصري صحيح (11 رقم)</div>
        }
      </div>
    }
  </div>

  <div class="form-group">
    <label for="email">البريد الإلكتروني</label>
    <input type="email" id="email" formControlName="email" class="form-control" [class.is-invalid]="f['email'].invalid && (f['email'].dirty || f['email'].touched || formSubmitted)">
    @if (f['email'].invalid && (f['email'].dirty || f['email'].touched || formSubmitted)) {
      <div class="invalid-feedback">
        @if (f['email'].errors?.['required']) {
          <div>هذا الحقل مطلوب</div>
        }
        @if (f['email'].errors?.['email']) {
          <div>يجب إدخال بريد إلكتروني صحيح</div>
        }
      </div>
    }
  </div>

  <div class="form-group">
    <label for="degree">التخصص</label>
    <input type="text" id="degree" formControlName="degree" class="form-control" [class.is-invalid]="f['degree'].invalid && (f['degree'].dirty || f['degree'].touched || formSubmitted)">
    @if (f['degree'].invalid && (f['degree'].dirty || f['degree'].touched || formSubmitted)) {
      <div class="invalid-feedback">
        @if (f['degree'].errors?.['required']) {
          <div>هذا الحقل مطلوب</div>
        }
      </div>
    }
  </div>

  <div class="form-group">
    <label for="subject">المادة</label>
    <input type="text" id="subject" formControlName="subject" class="form-control" [class.is-invalid]="f['subject'].invalid && (f['subject'].dirty || f['subject'].touched || formSubmitted)">
    @if (f['subject'].invalid && (f['subject'].dirty || f['subject'].touched || formSubmitted)) {
      <div class="invalid-feedback">
        @if (f['subject'].errors?.['required']) {
          <div>هذا الحقل مطلوب</div>
        }
      </div>
    }
  </div>
<div class="form-group">
  <label for="image">صورة</label>
  <input type="file" id="image" (change)="onFileSelected($event)" class="form-control" accept="image/*">
  @if (imageErrors.invalidType || imageErrors.maxSize) {
    <div class="invalid-feedback d-block">
      @if (imageErrors.invalidType) {
        <div>يجب أن يكون الملف من نوع صورة (JPEG, PNG, GIF)</div>
      }
      @if (imageErrors.maxSize) {
        <div>يجب أن يكون حجم الصورة أقل من 2MB</div>
      }
    </div>
  }
</div>

  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="closeModal()">إلغاء</button>
    <button type="submit" class="btn btn-primary" [disabled]="formSubmitted && teacherForm.invalid">
      حفظ
    </button>
  </div>
</form>