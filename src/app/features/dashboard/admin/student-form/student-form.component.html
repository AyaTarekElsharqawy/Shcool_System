
<div class="custom-modal">
  <div class="custom-modal-content">
    <div class="custom-modal-header">
      <h5>إضافة طالب جديد</h5>
      <button class="btn-close" (click)="closeModal()">×</button>
    </div>

    <div class="custom-modal-body">
      <form *ngIf="studentForm" [formGroup]="studentForm" (ngSubmit)="onSubmit()">
        <div>
          <label class="form-label">الاسم</label>
          <input type="text" class="form-control" formControlName="name">
          <div *ngIf="studentForm.controls['name'].invalid && studentForm.controls['name'].touched" class="text-danger">
            الاسم مطلوب
          </div>
        </div>

        <div>
          <label class="form-label">العمر</label>
          <input type="number" class="form-control" formControlName="age" min="3">
          <div *ngIf="studentForm.controls['age'].invalid && studentForm.controls['age'].touched" class="text-danger">
            <span *ngIf="studentForm.controls['age'].hasError('required')">العمر مطلوب</span>
            <span *ngIf="studentForm.controls['age'].hasError('min')">العمر يجب أن يكون 3 سنوات أو أكثر</span>
          </div>
        </div>

        <div>
          <label class="form-label">الفصل</label>
          <input type="text" class="form-control" formControlName="classroom">
          <div *ngIf="studentForm.controls['classroom'].invalid && studentForm.controls['classroom'].touched" class="text-danger">
            الفصل مطلوب
          </div>
        </div>

        <div>
          <label class="form-label">رقم ولي الأمر</label>
          <input type="text" class="form-control" formControlName="guardianPhone">
          <div *ngIf="studentForm.controls['guardianPhone'].invalid && studentForm.controls['guardianPhone'].touched" class="text-danger">
            يجب أن يكون رقم الهاتف 11 رقماً
          </div>
        </div>

        <div>
          <label class="form-label">واتساب</label>
          <input type="text" class="form-control" formControlName="whatsapp">
          <div *ngIf="studentForm.controls['whatsapp'].invalid && studentForm.controls['whatsapp'].touched" class="text-danger">
            يجب أن يكون رقم الواتساب 11 رقماً
          </div>
        </div>

        <div>
          <label class="form-label">تحميل صورة (اختياري)</label>
          <input type="file" class="form-control" (change)="onFileSelected($event)" accept="image/*">
          <div *ngIf="studentForm.get('image')?.value" class="mt-2">
            <img [src]="studentForm.get('image')?.value" alt="معاينة الصورة" style="max-width: 200px; max-height: 200px;">
          </div>
        </div>

        <div class="custom-modal-footer">
          <button type="button" class="btn btn-secondary" (click)="closeModal()">إلغاء</button>
          <button type="submit" class="btn btn-primary" [disabled]="studentForm.invalid">حفظ</button>
        </div>
      </form>
    </div>
  </div>
</div>